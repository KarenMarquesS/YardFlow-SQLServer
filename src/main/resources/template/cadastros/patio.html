<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragmentos :: cabecalho('Cadastro de Pátio')}">
  <meta charset="UTF-8"/>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

</head>

<body class="bg-gray-100 bg-dots flex items-center justify-center h-screen">

<div>
  <form th:replace="~{fragmentos :: form-logout}"></form>
</div>

<div class="mb-6 flex justify-center">
  <div th:replace="~{fragmentos :: saudacoes(${patio})}"></div>
</div>

<h1 class="text-center text-green-700 font-bold text-2xl mb-8">Cadastro do Pátio</h1>

<div class="bg-white shadow-lg rounded-xl p-8 w-96">

  <!-- FORM -->
  <form th:object="${patio}"
        th:action="${patio.id_patio} == null ? @{/patio/salvar} : @{/editar/{id_patio}(id_patio=${patio.id_patio})}"
        method="post"
        class="space-y-4">

    <div class="grid grid-cols-2 gap-4">

      <label class="col-span-2">Nome do Pátio (nickname):</label>
      <input type="text" name="nome" placeholder="Nome"
             class="border rounded-lg p-2 w-full"
             th:field="*{name}" th:errorclass="is-invalid"/>
      <div class="invalid-feedback col-span-2" th:errors="*{name}"></div>

      <label>CEP:</label>
      <input type="text" name="cep" placeholder="CEP"
             class="border rounded-lg p-2 w-full"
             th:field="*{endereco.cep}" th:errorclass="is-invalid"/>
      <div class="invalid-feedback col-span-2" th:errors="*{endereco.cep}"></div>

      <label>Rua:</label>
      <input type="text" name="rua" placeholder="Rua"
             class="border rounded-lg p-2 w-full"
             th:field="*{endereco.logradouro}"/>

      <label>Número:</label>
      <input type="text" name="numero" placeholder="Número"
             class="border rounded-lg p-2 w-full"
             th:field="*{endereco.numero}"/>

      <label>Bairro:</label>
      <input type="text" name="bairro" placeholder="Bairro"
             class="border rounded-lg p-2 w-full"
             th:field="*{endereco.bairro}"/>

      <label>Cidade:</label>
      <input type="text" name="cidade" placeholder="Cidade"
             class="border rounded-lg p-2 w-full"
             th:field="*{endereco.localidade}"/>

      <label>Estado:</label>
      <input type="text" name="estado" placeholder="Estado"
             class="border rounded-lg p-2 w-full"
             th:field="*{endereco.uf}"/>

      <label>Quantidade total de vagas:</label>
      <input type="number" name="vagas" placeholder="Qtd. Total Vagas"
             class="border rounded-lg p-2 w-full"
             th:field="*{qtd_vagas}"/>
    </div>

    <!-- ícones -->
    <div class="flex justify-end gap-6 mt-4">
      <button type="button" class="text-gray-600 hover:text-blue-600">
        <i class="fas fa-pencil-alt"></i>
      </button>
      <button type="button" class="text-gray-600 hover:text-red-600">
        <i class="fas fa-trash"></i>
      </button>
    </div>

    <!-- botões -->
    <div class="flex justify-center gap-6 mt-6">
      <button type="submit"
              class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
        Salvar
      </button>
      <a th:href="@{/patio/listar}"
         class="bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-500">
        Cancelar
      </a>
    </div>

  </form>
</div>

<footer th:replace="~{fragmentos :: rodape}"></footer>
</body>
</html>
