<!-- Modal (inicia oculto) -->
<div id="modalMoto" class="hidden fixed inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-50"
     xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="bg-gray-900 border border-purple-700 rounded-2xl p-8 w-full max-w-2xl shadow-2xl relative">

        <!-- Bot√£o fechar -->
        <button onclick="document.getElementById('modalMoto').classList.add('hidden')"
                class="absolute top-3 right-3 text-gray-400 hover:text-white">
            ‚úñ
        </button>

        <!-- T√≠tulo -->
        <h2 class="text-2xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600 mb-6">
            Detalhes da Moto
        </h2>

        <!-- Dados da moto -->
        <div class="space-y-4 text-gray-200">
            <p><span class="font-semibold">Placa:</span> <span th:text="${moto.placa}"></span></p>
            <p><span class="font-semibold">Modelo:</span> <span th:text="${moto.modelo}"></span></p>
            <p><span class="font-semibold">Cor:</span> <span th:text="${moto.cor}"></span></p>
            <p><span class="font-semibold">Entrada:</span> <span th:text="${moto.dataEntrada}"></span></p>
            <p><span class="font-semibold">Hist√≥rico:</span> <span th:text="${moto.historico}"></span></p>
        </div>

        <!-- Atualizar hist√≥rico -->
        <form th:action="@{/moto/atualizar-historico/{id}(id=${moto.id})}" method="post" class="mt-4">
            <label for="historico" class="block text-sm font-medium text-purple-200">Novo Hist√≥rico</label>
            <textarea id="historico" name="historico" rows="2"
                      class="mt-1 w-full px-3 py-2 bg-black border border-purple-700 rounded-lg text-gray-200"></textarea>
            <button type="submit"
                    class="mt-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-white">
                Atualizar Hist√≥rico
            </button>
        </form>

        <!-- Data de sa√≠da -->
        <form th:action="@{/moto/desativar/{id}(id=${moto.id})}" method="post" class="mt-6">
            <label for="dataSaida" class="block text-sm font-medium text-purple-200">Data de Sa√≠da</label>
            <input type="date" id="dataSaida" name="dataSaida"
                   class="mt-1 w-full px-4 py-2 bg-black border border-purple-700 rounded-lg text-gray-200"
                   onchange="document.getElementById('btnDesativar').classList.remove('hidden')">

            <button id="btnDesativar" type="submit"
                    class="hidden mt-3 w-full py-2 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg shadow-lg">
                Desativar Moto
            </button>
        </form>

        <!-- CRUD: atualizar/deletar -->
        <div class="flex justify-between items-center mt-8">
            <!-- Atualizar Moto -->
            <a th:href="@{/moto/editar/{id}(id=${moto.id})}"
               class="flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white shadow">
                ‚úèÔ∏è Atualizar
            </a>

            <!-- Deletar Moto -->
            <form th:action="@{/moto/deletar/{id}(id=${moto.id})}" method="post"
                  onsubmit="return confirm('Tem certeza que deseja deletar esta moto?');">
                <button type="submit"
                        class="flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white shadow">
                    üóëÔ∏è Deletar
                </button>
            </form>
        </div>

        <!-- Aviso -->
        <p class="text-xs text-center text-yellow-400 mt-4">
            ‚ö†Ô∏è A atualiza√ß√£o completa s√≥ pode ser feita uma √∫nica vez.<br>
            O campo <strong>Hist√≥rico</strong> pode ser atualizado quantas vezes quiser.
        </p>
    </div>
</div>